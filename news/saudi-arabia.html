<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gulf Andhra - Saudi Arabia News</title>
    <!-- Include Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer">
    <style>
        /* Ensure proper layout for the page */
        body {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Noto Sans Telugu', 'Open Sans', sans-serif;
        }

        .content-bg {
            flex: 1 0 auto;
            padding: 2rem 1rem;
            background-color: #f5f5f5;
            max-width: 1400px;
            margin: 0 auto;
            box-sizing: border-box;
        }

        /* News Section Styles */
        .news-section {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        .news-section h2 {
            font-size: 1.8rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 1rem;
            text-align: center;
        }

        /* News Article Card */
        .news-article {
            display: flex;
            flex-direction: row;
            gap: 1.5rem;
            background-color: #ffffff;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            padding: 1.5rem;
            transition: transform 0.2s ease;
        }

        .news-article:hover {
            transform: translateY(-3px);
        }

        .news-image {
            flex: 0 0 200px;
            max-width: 200px;
            height: 150px;
            object-fit: cover;
            border-radius: 4px;
        }

        .news-content {
            flex: 1;
        }

        .news-title {
            font-size: 1.4rem;
            font-weight: 600;
            color: #1a73e8;
            margin-bottom: 0.5rem;
            text-decoration: none;
        }

        .news-title:hover {
            text-decoration: underline;
        }

        .news-meta {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 0.5rem;
        }

        .news-excerpt {
            font-size: 1rem;
            color: #333;
            line-height: 1.5;
            margin-bottom: 0.5rem;
        }

        .news-fulltext {
            display: none; /* Hidden by default, can be toggled with JS if needed */
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .news-article {
                flex-direction: column;
            }

            .news-image {
                max-width: 100%;
                height: 200px;
            }

            .content-bg {
                padding: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Title (Header) -->
    <div id="header"></div>

    <!-- Navigation Bar -->
    <div id="navigation"></div>

    <!-- News Content -->
    <div class="content-bg">
        <section class="news-section">
            <h2>Latest News</h2>
            <div id="news-articles">
                <!-- News articles will be dynamically inserted here -->
            </div>
        </section>
    </div>

    <!-- Footer -->
    <div id="footer"></div>

    <!-- jQuery for injection -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- Include the news data -->
    <script src="/data/saudi-arabia.js"></script>
    <script>
        // Inject Header
        $("#header").load("/includes/header.html");

        // Inject Navigation Bar
        $("#navigation").load("/includes/navigation.html");

        // Inject Footer
        $("#footer").load("/includes/footer.html");

        // Function to render news articles
        function renderNewsArticles() {
            const newsContainer = document.getElementById('news-articles');
            if (!newsContainer) {
                console.error('News container not found');
                return;
            }

            // Check if newsData exists
            if (!window.newsData || !Array.isArray(window.newsData)) {
                console.error('News data not found or invalid');
                newsContainer.innerHTML = '<p>No news articles available.</p>';
                return;
            }

            // Clear the container
            newsContainer.innerHTML = '';

            // Loop through news data and create HTML for each article
            window.newsData.forEach(article => {
                const articleElement = document.createElement('article');
                articleElement.classList.add('news-article');
                articleElement.setAttribute('data-id', article.id);

                articleElement.innerHTML = `
                    <img src="${article.image}" alt="${article.alt}" class="news-image">
                    <div class="news-content">
                        <a href="#${article.id}" class="news-title">${article.title}</a>
                        <div class="news-meta">
                            <span>${article.category}</span> | 
                            <span>${article.date}</span> | 
                            <span>${article.time}</span>
                        </div>
                        <p class="news-excerpt">${article.excerpt}</p>
                        <div class="news-fulltext">${article.fullText}</div>
                    </div>
                `;

                newsContainer.appendChild(articleElement);
            });
        }

        // Run after the DOM is fully loaded
        document.addEventListener('DOMContentLoaded', () => {
            renderNewsArticles();
        });

        // Fallback: Run after window load to ensure data is available
        window.addEventListener('load', () => {
            renderNewsArticles();
        });
    </script>
</body>
</html>
