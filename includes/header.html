<!DOCTYPE html>
<html lang="te">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gulf Andhra</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Telugu:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <style>
    /* [Existing styles remain unchanged] */
  </style>
</head>
<body>
  <div class="header-container">
    <!-- Gold Price Ticker -->
    <div class="ticker-bar">
      <div class="ticker-content">
        <div class="date-display" id="telugu-date"></div>
        <marquee id="ticker-marquee">గోల్డ్ రేటు: 24K - ₹<span id="gold-24k">Loading...</span> | 22K - ₹<span id="gold-22k">Loading...</span> | KWD రేటు: ₹<span id="kwd-rate">Loading...</span> | SAR రేటు: ₹<span id="sar-rate">Loading...</span> | AED రేటు: ₹<span id="aed-rate">Loading...</span> | OMR రేటు: ₹<span id="omr-rate">Loading...</span> | QAR రేటు: ₹<span id="qar-rate">Loading...</span> | BHD రేటు: ₹<span id="bhd-rate">Loading...</span> | విదేశీ వార్తలు | తాజా అప్డేట్లు</marquee>
      </div>
    </div>
    
    <!-- [Rest of the HTML remains unchanged] -->
    
    <!-- Script to Fetch and Update Ticker Data -->
    <script>
      // Function to fetch gold prices from GoldAPI.io
      async function fetchGoldPrices() {
        try {
          const apiKey = 'YOUR_GOLDAPI_KEY'; // Replace with your GoldAPI.io API key
          const response = await fetch(`https://www.goldapi.io/api/XAU/INR`, {
            headers: { 'x-access-token': apiKey, 'Content-Type': 'application/json' }
          });
          if (!response.ok) throw new Error('Failed to fetch gold prices');
          const data = await response.json();
          
          // Gold price per gram in INR
          const goldPricePerGram = data.price_gram;
          const goldPrice24K = (goldPricePerGram * 74.5).toFixed(0); // Per tola (74.5 grams)
          const goldPrice22K = (goldPrice24K * 0.9167).toFixed(0); // 22K is 91.67% of 24K

          return { gold24K: goldPrice24K, gold22K: goldPrice22K };
        } catch (error) {
          console.error('Error fetching gold prices:', error.message);
          return { gold24K: 'N/A', gold22K: 'N/A' };
        }
      }

      // Function to fetch exchange rates
      async function fetchExchangeRates() {
        try {
          const apiKey = 'YOUR_EXCHANGERATESAPI_KEY'; // Replace with your exchangeratesapi.io API key
          const response = await fetch(`https://api.exchangeratesapi.io/v1/latest?access_key=${apiKey}&base=USD&symbols=INR,KWD,SAR,AED,OMR,QAR,BHD`);
          if (!response.ok) throw new Error('Failed to fetch exchange rates');
          const data = await response.json();

          // Convert USD to INR for each currency
          const inrPerUsd = data.rates.INR;
          const rates = {
            kwd: (inrPerUsd / data.rates.KWD).toFixed(2),
            sar: (inrPerUsd / data.rates.SAR).toFixed(2),
            aed: (inrPerUsd / data.rates.AED).toFixed(2),
            omr: (inrPerUsd / data.rates.OMR).toFixed(2),
            qar: (inrPerUsd / data.rates.QAR).toFixed(2),
            bhd: (inrPerUsd / data.rates.BHD).toFixed(2),
          };

          return rates;
        } catch (error) {
          console.error('Error fetching exchange rates:', error.message);
          // Fallback to static or approximate rates if API fails
          return { kwd: '274.69', sar: '22.47', aed: '22.95', omr: '218.96', qar: '23.11', bhd: '223.57' };
        }
      }

      // Function to update the ticker
      async function updateTicker() {
        const goldPrices = await fetchGoldPrices();
        const exchangeRates = await fetchExchangeRates();

        // Update gold prices
        document.getElementById('gold-24k').textContent = goldPrices.gold24K;
        document.getElementById('gold-22k').textContent = goldPrices.gold22K;

        // Update exchange rates
        document.getElementById('kwd-rate').textContent = exchangeRates.kwd;
        document.getElementById('sar-rate').textContent = exchangeRates.sar;
        document.getElementById('aed-rate').textContent = exchangeRates.aed;
        document.getElementById('omr-rate').textContent = exchangeRates.omr;
        document.getElementById('qar-rate').textContent = exchangeRates.qar;
        document.getElementById('bhd-rate').textContent = exchangeRates.bhd;
      }

      // Initial update
      updateTicker();

      // Update every 5 minutes (300,000 milliseconds)
      setInterval(updateTicker, 300000);
    </script>
  </body>
</html>
